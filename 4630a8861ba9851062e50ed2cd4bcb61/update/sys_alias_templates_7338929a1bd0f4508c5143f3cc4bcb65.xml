<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_alias_templates">
    <sys_alias_templates action="INSERT_OR_UPDATE">
        <default_data_template>{&#13;
  "credential": {&#13;
    "oauth_entity": {&#13;
      "oauth_entity_profile": [&#13;
        {&#13;
          "grant_type": "authorization_code",&#13;
          "name": " CDW Profile",&#13;
          "default": true,&#13;
          "oauth_entity_profile_scope": [&#13;
            "CDW"&#13;
          ]&#13;
        }&#13;
      ],&#13;
      "code_challenge_method": "S256",&#13;
      "type": "consumer",&#13;
      "oauth_entity_scope": [&#13;
        {&#13;
          "oauth_entity_scope": "CDW",&#13;
          "name": "CDW"&#13;
        }&#13;
      ],&#13;
      "client_id": "",&#13;
      "use_mutual_auth": false,&#13;
      "revoke_token_url": "https://&lt;provider-domain-name&gt;.com/oauth2/revoke",&#13;
      "default_grant_type": "authorization_code",&#13;
      "public_client": false,&#13;
      "oauth_api_script": "3e3a3a11c333210016194ffe5bba8f70",&#13;
      "name": "CDW Spoke OAuth",&#13;
      "client_secret": "",&#13;
      "auth_url": "https://&lt;provider-domain-name&gt;.com/oauth2/auth",&#13;
      "token_url": "https://pre-prod-apihub.cdw.com/v2/oauth/ClientCredentialAcessToken",&#13;
      "redirect_url": ""&#13;
    },&#13;
    "name": "CDW Spoke Credential",&#13;
    "table": "oauth_2_0_credentials"&#13;
  },&#13;
  "connection": {&#13;
    "use_mid": false,&#13;
    "connection_url": "https://pre-prod-apihub.cdw.com/b2b/customer/inbapi/v1/CustomerOrder",&#13;
    "name": "CDW APi Spoke",&#13;
    "table": "http_connection"&#13;
  }&#13;
}</default_data_template>
        <dynamic_data_schema>{&#13;
  "connection_fields": [{&#13;
	"name": "connection.name",&#13;
	"label": "Connection Name",&#13;
	"type": "text",&#13;
	"defaultValue": "CDW Spoke Connection",&#13;
	"hint": "Display name for the Connection",&#13;
        "mandatory":true&#13;
    },&#13;
    {&#13;
      "name": "connection.connection_url",&#13;
      "label": "Connection URL",&#13;
      "type": "text",&#13;
      "defaultValue": "https://pre-prod-apihub.cdw.com/v2/oauth/ClientCredentialAcessToken",&#13;
      "hint": "Connection URL for provider",&#13;
        "mandatory":true&#13;
    }&#13;
  ],&#13;
  "credential_fields": [&#13;
   {&#13;
      "name": "credential.oauth_entity.name",&#13;
      "label": "OAuth Entity Name",&#13;
      "type": "text",&#13;
      "hint": "Display Name for the OAuth Entity",&#13;
        "mandatory":true&#13;
    },&#13;
    {&#13;
      "name": "credential.oauth_entity.client_id",&#13;
      "label": "OAuth Client ID",&#13;
      "type": "text",&#13;
      "hint": "Client ID for provider",&#13;
        "mandatory":true&#13;
    },&#13;
    {&#13;
      "name": "credential.oauth_entity.client_secret",&#13;
      "label": "OAuth Client Secret",&#13;
      "type": "password",&#13;
      "hint": "Client Secret for provider",&#13;
        "mandatory":true&#13;
    },&#13;
    {&#13;
      "name": "credential.oauth_entity.redirect_url",&#13;
      "label": "OAuth Redirect URL",&#13;
      "type": "text",&#13;
      "defaultValue": "https://&lt;instance-name&gt;.service-now.com/oauth_redirect.do",&#13;
      "hint": "Callback URL for provider",&#13;
        "mandatory":true&#13;
    }&#13;
  ]&#13;
}</dynamic_data_schema>
        <name>CDW Pre-Prod API Config Template</name>
        <on_edit_script><![CDATA[(function execute(aliasId, connectionSysId, jsonDefaultData, jsonDynamicData) {
   // aliasId: sys_id of the alias record
   // connectionSysId: sys_id of the connection record created by using the default and dynamic data
   // jsonDefaultData (String): The default JSON template data from template table
   // e.g. var jsonDefaultParsed = JSON.parse(jsonDefaultData);
   //      gs.info("default connection url = " + jsonDefaultParsed["connection"]["connection_url"]);
   // jsonDynamicData (String): User input based on the key/values defined in "Dynamic Data"
   // e.g. var jsonDynamicParsed = JSON.parse(jsonDynamicData);
   //      gs.info("dynamic connection url = " + jsonDynamicParsed["connection.connection_url"]);
})(aliasId, connectionSysId, jsonDefaultData, jsonDynamicData);
]]></on_edit_script>
        <post_process_script><![CDATA[(function execute(aliasId, connectionSysId, jsonDefaultData, jsonDynamicData) {
   // aliasId: sys_id of the alias record
   // connectionSysId: sys_id of the connection record created by using the default and dynamic data
   // jsonDefaultData (String): The default JSON template data from template table
   // e.g. var jsonDefaultParsed = JSON.parse(jsonDefaultData);
   //      gs.info("default connection url = " + jsonDefaultParsed["connection"]["connection_url"]);
   // jsonDynamicData (String): User input based on the key/values defined in "Dynamic Data"
   // e.g. var jsonDynamicParsed = JSON.parse(jsonDynamicData);
   //      gs.info("dynamic connection url = " + jsonDynamicParsed["connection.connection_url"]);
})(aliasId, connectionSysId, jsonDefaultData, jsonDynamicData);
]]></post_process_script>
        <pre_edit_script/>
        <sys_class_name>sys_alias_templates</sys_class_name>
        <sys_created_by>Terry.Lillo</sys_created_by>
        <sys_created_on>2021-05-25 20:39:45</sys_created_on>
        <sys_id>7338929a1bd0f4508c5143f3cc4bcb65</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>CDW Pre-Prod API Config Template</sys_name>
        <sys_package display_value="Global" source="global">global</sys_package>
        <sys_policy/>
        <sys_scope display_value="CDW Ordering Integration">4630a8861ba9851062e50ed2cd4bcb61</sys_scope>
        <sys_update_name>sys_alias_templates_7338929a1bd0f4508c5143f3cc4bcb65</sys_update_name>
        <sys_updated_by>Terry.Lillo</sys_updated_by>
        <sys_updated_on>2022-10-13 13:40:57</sys_updated_on>
    </sys_alias_templates>
    <sys_claim action="INSERT_OR_UPDATE">
        <claim_owner_scope display_value="CDW Ordering Integration">4630a8861ba9851062e50ed2cd4bcb61</claim_owner_scope>
        <claim_timestamp>1801a3739d80000001</claim_timestamp>
        <metadata_update_name>sys_alias_templates_7338929a1bd0f4508c5143f3cc4bcb65</metadata_update_name>
        <previous_claim_app_version>1.0.3</previous_claim_app_version>
        <previous_claim_name>CDW Ordering Integration</previous_claim_name>
        <previous_claim_scope>4630a8861ba9851062e50ed2cd4bcb61</previous_claim_scope>
        <sys_created_by>Terry.Lillo</sys_created_by>
        <sys_created_on>2022-04-11 20:01:08</sys_created_on>
        <sys_id>85e51be11bf2811062e50ed2cd4bcba5</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>Terry.Lillo</sys_updated_by>
        <sys_updated_on>2022-10-13 13:40:57</sys_updated_on>
    </sys_claim>
</record_update>
